---
title: 通しで動作を確認する
description: ""
---

import {
  Aside,
  Card,
  Code,
  TabItem,
  Tabs,
} from "@astrojs/starlight/components";

## プログラムの起動

ここまでの動作確認は、ユーザ管理を行わない簡易的なプログラムで行っていました。
次のステップとして、ユーザ管理を追加したシステムを考えていきます。

WebAuthn サーバを起動します。

<Tabs>
  <TabItem label="pip">
    <Code
      lang="bash"
      code={`cd backend
python main.py`}
    ></Code>
  </TabItem>
  <TabItem label="uv">
    <Code
      lang="bash"
      code={`cd backend
uv run main.py`}
    ></Code>
  </TabItem>
</Tabs>

フロントエンドを起動します。

<Tabs>
  <TabItem label="default">
    <Code
      lang="bash"
      code={`cd frontend/2_user_auth
python -m http.server 5173 --directory .`}
    ></Code>
  </TabItem>
  <TabItem label="uv">
    <Code
      lang="bash"
      code={`cd frontend/2_user_auth
uv run -m http.server 5173 --directory .`}
    ></Code>
  </TabItem>
</Tabs>

先ほどと同様にブラウザで [http://localhost:5173](http://localhost:5173) にアクセスします。

## 動作確認

### ユーザの作成

まずはユーザを作成してください。

1. `サインアップ` を押し、ユーザ情報を入力します。
2. ユーザ登録を押し、システムにユーザ情報を作成します。
3. 無事に成功すると、 `登録に成功しました` と表示されます。

### 認証鍵の登録

作成したユーザで一度パスワードログインを行い、認証鍵を登録します。

1. `ログイン` を押し、ユーザ情報を入力します。
2. 無事に成功すると、 `ログイン成功` と表示されます。
3. `戻る` を押し、トップページに戻ります。
4. ログイン済みの状態になっているため、 `ユーザ` を押して画面遷移します。
5. `登録` を押して認証鍵を登録します。

### パスキー認証の実行

登録した認証鍵で認証を行います。

1. 画面をリロード、または `ログアウト` を押してトップページに戻ります。
2. `ログイン` を押して画面遷移します。
3. `Authenticate` を押してパスキー認証を実行します。
4. 無事に成功すると、 `User authenticated!` と表示されます。
