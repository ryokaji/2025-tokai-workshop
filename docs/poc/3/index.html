<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>認証処理のシーケンス | パスワードレス認証の仕組み</title><link rel="canonical"/><link rel="shortcut icon" href="/2025-tokai-workshop/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.15.3"/><meta name="generator" content="Starlight v0.36.2"/><meta property="og:title" content="認証処理のシーケンス"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description"/><meta property="og:site_name" content="パスワードレス認証の仕組み"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/2025-tokai-workshop/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/2025-tokai-workshop/_astro/index.BK102pm3.css">
<style>@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}}
@layer starlight.components{.card:where(.astro-v5tidmuc){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-v5tidmuc):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-v5tidmuc):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-v5tidmuc):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-v5tidmuc):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-v5tidmuc){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-v5tidmuc) .icon:where(.astro-v5tidmuc){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-v5tidmuc) .body:where(.astro-v5tidmuc){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{starlight-tabs:where(.astro-esqgolmp){display:block}.tablist-wrapper:where(.astro-esqgolmp){overflow-x:auto}:where(.astro-esqgolmp)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-esqgolmp){display:flex;margin-bottom:-2px}.tab:where(.astro-esqgolmp)>:where(.astro-esqgolmp)[role=tab]{display:flex;align-items:center;gap:.5rem;line-height:var(--sl-line-height-headings);padding:.275rem 1.25rem;text-decoration:none;border-bottom:2px solid var(--sl-color-gray-5);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside);overflow-wrap:initial}.tab:where(.astro-esqgolmp) :where(.astro-esqgolmp)[role=tab][aria-selected=true]{color:var(--sl-color-white);border-color:var(--sl-color-text-accent);font-weight:600}.tablist-wrapper:where(.astro-esqgolmp)~[role=tabpanel]{margin-top:1rem}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media(min-width:50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/2025-tokai-workshop/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/2025-tokai-workshop/" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3" translate="no"> パスワードレス認証の仕組み </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/2025-tokai-workshop/_astro/Search.astro_astro_type_script_index_0_lang.D4TT2YjJ.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf">  </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="0vasykh" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">環境構築</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/setup/1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ソースコードの取得</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/setup/2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">(Option) Node 環境のセットアップ</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">はじめに</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/introduction/1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">なぜパスキーを使うのか</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/introduction/2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ワークショップの概要</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">仕組みを知る</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/poc/1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">パスキー認証を試す</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/poc/2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">登録処理のシーケンス</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/poc/3/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">認証処理のシーケンス</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">ユーザ機能との協調</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/practice/1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">通しで動作を確認する</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/practice/2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">実装時のポイント</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/2025-tokai-workshop/glossary" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">用語集</span>  </a> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt">  </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#シーケンス" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">シーケンス</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#サーバで実現すること" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">サーバで実現すること</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#1-challenge-の作成と保存" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1. challenge の作成と保存</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#2-送信内容の検証" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2. 送信内容の検証</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/2025-tokai-workshop/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#シーケンス" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">シーケンス</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#サーバで実現すること" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">サーバで実現すること</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#1-challenge-の作成と保存" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">1. challenge の作成と保存</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#2-送信内容の検証" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">2. 送信内容の検証</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc><script type="module" src="/2025-tokai-workshop/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">認証処理のシーケンス</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <div class="sl-heading-wrapper level-h2"><h2 id="シーケンス">シーケンス</h2><a class="sl-anchor-link" href="#シーケンス"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “シーケンス”</span></a></div>
<p>以下に認証処理の概要を示します。登録時の処理とおおまかな流れは似ていることがわかります。</p>
<figure class="plantuml-diagram">
  <img src="data:image/png;base64,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" alt="PlantUML Diagram" class="plantuml-img">
</figure>
<div class="sl-heading-wrapper level-h2"><h2 id="サーバで実現すること">サーバで実現すること</h2><a class="sl-anchor-link" href="#サーバで実現すること"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “サーバで実現すること”</span></a></div>
<p>登録と同様に、 2 つの API が必要となります。実装とともに以下に示します。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="1-challenge-の作成と保存">1. challenge の作成と保存</h3><a class="sl-anchor-link" href="#1-challenge-の作成と保存"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1. challenge の作成と保存”</span></a></div>
<ul>
<li>認証開始時に challenge を作成し、保存します。</li>
</ul>
<div class="expressive-code"><link rel="stylesheet" href="/2025-tokai-workshop/_astro/ec.v4551.css"><script type="module" src="/2025-tokai-workshop/_astro/ec.p1z7b.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="python"><code><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">@bp.route</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/generate-authentication-options</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D9F5DD;--1:#111111">,</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#D7DBE0;--1:#403F53">methods</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">GET</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">def</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">authenticate_options</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">options </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#B2CCD6;--1:#096E72">generate_authentication_options</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#919F9F;--1:#5F636F"># ...</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">data </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#B2CCD6;--1:#096E72">options_to_json_dict</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">options</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">session[</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">challenge</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">] </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> options.challenge</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#B2CCD6;--1:#096E72">jsonify</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">data</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@bp.route(&#x22;/generate-authentication-options&#x22;, methods=[&#x22;GET&#x22;])def authenticate_options():    options = generate_authentication_options(        # ...    )    data = options_to_json_dict(options)    session[&#x22;challenge&#x22;] = options.challenge    return jsonify(data)"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="2-送信内容の検証">2. 送信内容の検証</h3><a class="sl-anchor-link" href="#2-送信内容の検証"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2. 送信内容の検証”</span></a></div>
<ul>
<li>クライアントから送信された内容を検証します。
<ul>
<li>challenge が保存したものと一致すること</li>
<li>origin が期待したものと一致すること</li>
</ul>
</li>
<li>レスポンスの内容をパースし、公開鍵で検証します。</li>
<li>認証処理が成功した際には challenge をクリアします。</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="python"><code><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">@bp.route</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/verify-authentication</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D9F5DD;--1:#111111">,</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#D7DBE0;--1:#403F53">methods</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">[</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">POST</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D9F5DD;--1:#111111">]</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">def</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">authenticate_verify</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">body </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> request.json</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F"># 登録済みのユーザー情報を取得</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F"># user = ...</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F"># 公開鍵情報を取得</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F"># public_key = ...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">try</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#919F9F;--1:#5F636F"># 検証</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">verification </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#B2CCD6;--1:#096E72">verify_authentication_response</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#919F9F;--1:#5F636F"># ...</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#D7DBE0;--1:#403F53">expected_challenge</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#82AAFF;--1:#3B61B0">session.</span><span style="--0:#B2CCD6;--1:#096E72">get</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">challenge</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#D9F5DD;--1:#111111">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#D7DBE0;--1:#403F53">expected_origin</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#82AAFF;--1:#3B61B0">EXPECTED_ORIGIN</span><span style="--0:#D9F5DD;--1:#111111">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#919F9F;--1:#5F636F"># ...</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">session[</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">challenge</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">] </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FF6A83;--1:#A24848">None</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">session.</span><span style="--0:#B2CCD6;--1:#096E72">clear</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#B2CCD6;--1:#096E72">login_user</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">user</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#B2CCD6;--1:#096E72">jsonify</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">{</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">status</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">ok</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">, </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">verified</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">: verification.user_verified}</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">except</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">Exception</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">as</span><span style="--0:#D6DEEB;--1:#403F53"> e:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#919F9F;--1:#5F636F"># ...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@bp.route(&#x22;/verify-authentication&#x22;, methods=[&#x22;POST&#x22;])def authenticate_verify():    body = request.json    # 登録済みのユーザー情報を取得    # user = ...    # 公開鍵情報を取得    # public_key = ...    try:        # 検証        verification = verify_authentication_response(            # ...            expected_challenge=session.get(&#x22;challenge&#x22;),            expected_origin=EXPECTED_ORIGIN,            # ...        )        session[&#x22;challenge&#x22;] = None        session.clear()        login_user(user)        return jsonify({&#x22;status&#x22;: &#x22;ok&#x22;, &#x22;verified&#x22;: verification.user_verified})    except Exception as e:        # ..."><div></div></button></div></figure></div> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr"> <a href="/2025-tokai-workshop/poc/2/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">登録処理のシーケンス</span> </span> </a> <a href="/2025-tokai-workshop/practice/1/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">通しで動作を確認する</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>